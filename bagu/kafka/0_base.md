# 应用


## 作用

### 异步

### 削峰

上游下游数据处理能力不一样，可能上游操作比较轻，下游操作比较重，导致上游疯狂地请求下游，导致下游崩溃


### 解耦


缺点：
- 延迟大，延迟敏感建议rpc
- 数据一致性只能保证最终一致性，需要强一致性建议分布式事务
- 多维护一个中间件
- 成本


## MQ选型

高可靠
高性能
高可用

开源社区活跃度


### rabbitmq
优点: 
1. 使用简单，支持的语言客户端多
2. 路由灵活
缺点: 
1. 性能差， 吞吐量低
2. 对消息堆积支持不友好，消息堆积会导致性能下降明显

### rocketmq
优点: 
1. 性能高，吞吐量大
2. 时延低
3. 事务消息
缺点：
1. 国外生态不好

### kafka
优点:
1. 性能高， 吞吐量大
2. 生态好，和大数据兼容好

缺点：
1. kafka采取的批量推送的思想，延迟大一些

